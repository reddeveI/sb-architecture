## Service Discovery & Configuration

> - Маркетологи проанализировали собранные данные и определили несколько аналитических моделей, которые, по их мнению, могут поднять продажи или улучшить восприятие клиентами процесса выбора и покупки. С этими моделями маркетологи обратились к владельцам бизнеса. Те в свою очередь боятся, что станет только хуже. Вас просят предложить решение для проверки гипотезы маркетологов на тестовой группе клиентов.

Задачи: 

#### 1. Предложить стратегию такого решения. Описать возможные варианты того, как это может быть реализовано технически, обосновать выбор.

- Следует использовать метод A/B тестирование: выделить группу пользователей и в зависимости от этих критериев, service registry будет определённые запросы перенаправлять на новую реализацию сервиса А. Выбор этого варианта позволяет нам не писать зашивать логику в коде и выключить легко выключить сервис с тестовой реализации, после завершения маркетингового эксперимента
![alt tag](https://github.com/reddeveI/sb-architecture/blob/main/images/Service-registry.jpg)


#### 2. Указать, какие сервисы будут затронуты в результате такого подхода и почему.

- Плюс этого подхода в том, что сами сервисы не будут затронуты. Управление происходит мне сервисов

#### 3. Описать, изменится ли формат данных для анализа новых данных. И если да, то как.

Так как мы ранее перешли на событийную модель, в сервисах заказов и пользователей, только данные из этих сервисов нужны для построения аналитических моделей, требуется только донастроить репликации

![alt tag](https://github.com/reddeveI/sb-architecture/blob/main/images/Order-servise-with-cqrs-3.jpg)


> - После того, как вы представили своё видение решения поставленной задачи, к вам обратились администраторы. Они говорят, что решение усложнило их работу: отслеживать конфигурацию инфраструктуры стало труднее, нужно больше людей, чтобы управлять этим расширяющимся «зоопарком» сервисов.
> - Заливать проблему деньгами — не выход, вы понимаете, что бюджет ограничен. Подумайте, что можно предложить администраторам в качестве решения.

Так как мы уже ввели Service Registry в нашу систему, можно воспользоваться дополнительными возможностями этого подхода. Service Registry позволяет управлять конфигурациями серисов

![alt tag](https://github.com/reddeveI/sb-architecture/blob/main/images/Service-registry-get-config.jpg)

#### 4. Укажите, управление какими сервисами можно автоматизировать, а какие оставить как есть, с ручной поддержкой. В каком порядке вы предложите реализовывать такой переход, и почему? Какие риски вы видите в автоматизации процессов?

Предлагается перевести все сервисы на автоматическое управление, но с ограничениями. Сервис заказов оставить на ручном управлении, так как на этот сервис больше всего нагрузки и есть **риски**, что автоматичекское управление экземплярами этих сервисов может повлечь к тому что если на одном из сервисов произойдёт сбой, то новые экземпляры будут подниматься, под них будут выделяться ресурсы, заполнив все доступные ресурсы на серверах.

В будущем реализуем шаблон Governor, чтобы ограничить количество и скорость опасных операций для ПО. Также мы разделим операции на опасные и безопасные...
